CREATE TABLE `stocks` (
  `stock_id` INT NOT NULL AUTO_INCREMENT,
  `ticker` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`stock_id`),
  UNIQUE KEY `uniq_ticker` (`ticker`)
) ENGINE=InnoDB

INSERT INTO stocks (ticker) VALUES
('AMD'),
('TSM'),
('AMZN'),
('META'),
('NVDA'),
('IBM'),
('MSFT'),
('XLK'),
('GOOG'),
('COST'),
('SMH'),
('DIS'),
('WFC'),
('AAPL'),
('JPM'),
('UAL'),
('HD'),
('TSLA');

CREATE TABLE positions (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  trade_date DATE NOT NULL,
  cash DECIMAL(18,2) NOT NULL,
  total_value DECIMAL(18,2) NOT NULL,
  details JSON NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE holdings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    trade_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    stock_id INT NOT NULL,
    shares INT NOT NULL,
    cash DECIMAL(15,2) NOT NULL,
    portfolio_value DECIMAL(15,2) NOT NULL
);
